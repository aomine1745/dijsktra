<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="js/js.js"></script>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="vis/dist/vis.css">
	<script type="text/javascript" src="vis/dist/vis1.js"></script>
	<title></title>
</head>
<body>
	<form>
		<table>
		<tr>
			<td>
				<input type="button" name="" onclick="agregar(document.getElementById('nodo').value,arr)" value="AGREGAR NODOS">
			</td>
			<td>
				<input type="text" name="nodo" id="nodo" >
			</td>
		</tr>
		</table>
	</form>
		<table style="float: left;">
		<tr>
			<td>
				<button name="arista"  onclick="agregar_arista(document.getElementById('nodo').value,arr)"> agregar relacion </button> 
			</td>
			<td>
				<input type="text" name="1" id="inicio" >
			</td>
			<td>
				- >
			</td>
			<td>
				<input type="text" name="2" id="fin">
			</td>
			<td>
				VALOR
			</td>
			<td>
				<input type="text" name="3" id="valor">
			</td>
		</tr>
		</table>
		<div id="grafo1">
		
		</div>

		<style type="text/css">
			#grafo1{
	  			width: 500px;
	  			height: 300px;
	  			border: 5px solid black;
	  			margin-left: 80px;
	  			position: relative;
	  			bottom: -60px;
			}
		</style>
		<script type="text/javascript">
			var arr = [];
    		var cantidad_de_nodos = Number(document.getElementById('nodo').value);
		    cantidad_de_nodos=cantidad_de_nodos+1;
  	
			    var l=[];
			    for(var i=0; i<cantidad_de_nodos; i++){
			      l[i]=Infinity;
			    } 
			  //console.log(l);

			  //creacion de la matriz y vector L
			    var arr = [];
			    
			    for(var i=0; i<cantidad_de_nodos ; i++){
			      

			      arr.push([]);

			      arr[i].push(new Array(cantidad_de_nodos));

			      for(var j=0; j<cantidad_de_nodos ; j++){
			          if(i==0 || j==0){
			            arr[i][j] = "";
			          }else{
			            arr[i][j] = 0;
			          }
			       }

			    }
			    arr[0][0]="R";

			var nodos = new vis.DataSet();
			var aristas = new vis.DataSet();
			function agregar(n,matriz){

				
				var letras = ["1","2","3","4","5","6","7"];
				var id = ["1","2","3","4","5","6","7"];
				var a = Number(document.getElementById('nodo').value);

						for(var i=1; i<=a;i++){
							nodos.add(
							{id:i, label: letras[i-1]},) 

						}
					}	
				
					
					function agregar_arista(n,matriz){
			          var cn1 = document.getElementById("inicio");
			          var cn2 = document.getElementById("fin");
			          var cn3 = document.getElementById("valor");
			          var a = cn1.value;
			          var b = cn2.value;
			          var c = cn3.value;
			          inicio.value="";
			          fin.value="";
			          valor.value="";

			          aristas.add([
			                {from:a , to:b , label:c}
			                     ]);	          
			          }

					var contenedor = document.getElementById('grafo1');
					var datos = {
			    		nodes:nodos,
			    		edges:aristas
						};
					var opciones = {
						edges:{
							arrows:{
								to:{
									enabled: false
								}
							}
						}
					};
					var grafo = new vis.Network(contenedor,datos,opciones);
					
					

					function $(selector){
						return document.querySelector(selector);
					}


		</script>
		     <div>
        <br><br><br>
        <div class="container">
            <div class="row">
                <div class="mx-auto">
                  <center>
                    <a>Desde :</a>&nbsp;<input type="number" name="vertice_inicial" id="vertice_inicial" min="1" style="width:50px ;height:30px;">&nbsp;&nbsp;&nbsp;
                    <a>hasta :</a>&nbsp;<input type="number" name="vertice_final" id="vertice_final" min="1" style="width:50px ;height:30px;">
                    <br><br>
                    <button name="generar_matriz" value="Calcular camino minimo" class="btn btn-success" onclick="generar_matriz(arr,Number(document.getElementById('nodo').value))"> calcular camino minimo </button>
                  </center>
                      
                </div>
            </div>
        </div>
      <br>

    <script type="text/javascript">
        
          function generar_matriz(matriz,cantidad_de_nodos){

             var codigo_generar='<br><h2>La Matriz de caminos es : </h2><br>';
             codigo_generar+='<table id="tabla1" border="1" style="background-color:#ffffff">';

                  for(var i=0;i < cantidad_de_nodos;i++){
                       if(i==0){
                             codigo_generar+='<tr style="background-color:#c3f4c1" height="35px" align="center"><font color="000000">';
                             }else{
                             codigo_generar+='<tr height="35px" align="center">';
                             }
                       for(var j=0;j < cantidad_de_nodos;j++){
                       if(j==0){
                             codigo_generar+='<td style="background-color:#c3f4c1" width="35px"><font color="000000">'+matriz[i][j]+'</td>';
                              }else{
                                  if(i==0){
                                     codigo_generar+='<td width="35px">'+matriz[i][j]+'</td>'; 
                                        }else{
                                    codigo_generar+='<td width="35px"><font color="4f32ad">'+matriz[i][j]+'</td>'; 
                                             }
                                          }
                               }
                    codigo_generar+='</tr>';
                  }
                    codigo_generar+='</table><br>';

                   
          document.getElementById("Matrices2").innerHTML=codigo_generar;
          
          // var v_ini = document.getElementById("vertice_inicial");
          // var v_fin = document.getElementById("vertice_final");
          // var as = v_ini.value;
          // var zs = v_fin.value;
          // console.log(as+" "+zs);
          //dijkstra(matriz,1,3,l);
          // dijkstra(matriz,Number(as),Number(zs),l);
          }

          

    </script>

    </div>

<div id="Matrices"></div>
<div>
  <div id="Matrices2"></div>
<div>
</body>
</html>